(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dafc8c7"],{"0637":function(e,t,n){e.exports=n.p+"img/greeting.1415c1c5.png"},3419:function(e,t,n){e.exports=n.p+"img/blindfold.58ce4239.png"},4560:function(e,t,n){},"4b64":function(e,t,n){e.exports=n.p+"img/normal.0447fe9b.png"},"9e56":function(e,t,n){"use strict";var o=n("4560"),a=n.n(o);a.a},ede4:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"admin-login-wrap"},[o("div",{ref:"moveImg",staticClass:"move-bg"}),o("div",{staticClass:"form-bg"},[o("div",{staticClass:"form"},[o("span",{staticClass:"fr icon iconfont icon-guanbi"}),o("div",{staticClass:"panfish"},[o("img",{staticClass:"normal",class:{curr:"normal"===e.logoState},attrs:{src:n("4b64"),alt:"logo"}}),o("img",{staticClass:"blindfold",class:{curr:"blindfold"===e.logoState},attrs:{src:n("3419"),alt:"logo"}}),o("img",{staticClass:"greeting",class:{curr:"greeting"===e.logoState},attrs:{src:n("0637"),alt:"logo"}})]),o("h1",[e._v(e._s(e.isLogin?"登录":"注册"))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"name",attrs:{type:"text",placeholder:"请输入账号..."},domProps:{value:e.username},on:{blur:function(t){e.logoState="normal"},focus:function(t){e.logoState="greeting"},input:[function(t){t.target.composing||(e.username=t.target.value)},function(t){return e.userInputing("username",0)}]}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"pwd",attrs:{type:"password",placeholder:"请输入密码..."},domProps:{value:e.password},on:{blur:function(t){e.logoState="normal"},focus:function(t){e.logoState="blindfold"},input:[function(t){t.target.composing||(e.password=t.target.value)},function(t){return e.userInputing("password",0)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.pwdEnter()}}}),e.isLogin?e._e():o("input",{directives:[{name:"model",rawName:"v-model",value:e.invcode,expression:"invcode"}],attrs:{type:"text",placeholder:"请输入邀请码...(必填)"},domProps:{value:e.invcode},on:{blur:function(t){e.logoState="normal"},focus:function(t){e.logoState="greeting"},input:[function(t){t.target.composing||(e.invcode=t.target.value)},function(t){return e.userInputing("invcode",0)}]}}),e.isLogin?e._e():o("input",{directives:[{name:"model",rawName:"v-model",value:e.realname,expression:"realname"}],attrs:{type:"text",placeholder:"请输入作者昵称...(必填)"},domProps:{value:e.realname},on:{blur:function(t){e.logoState="normal"},focus:function(t){e.logoState="greeting"},input:[function(t){t.target.composing||(e.realname=t.target.value)},function(t){return e.userInputing("realname",1)}]}}),e.isLogin?e._e():o("input",{directives:[{name:"model",rawName:"v-model",value:e.autograph,expression:"autograph"}],attrs:{type:"text",placeholder:"请输入个性签名...(非必填)"},domProps:{value:e.autograph},on:{blur:function(t){e.logoState="normal"},focus:function(t){e.logoState="greeting"},input:[function(t){t.target.composing||(e.autograph=t.target.value)},function(t){return e.userInputing("autograph",1)}]}}),o("button",{staticClass:"submit-btn",on:{click:e.formSubmit}},[e._v(e._s(e.isLogin?"登录":"注册"))]),o("p",{staticClass:"register-btn"},[o("span",{on:{click:function(t){e.isLogin=!e.isLogin}}},[e._v(e._s(e.isLogin?"注册":"登录"))])])])])])},a=[],s=(n("99af"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),i=n("22ce"),r=n("efc3"),u={name:"login",data:function(){return{isLogin:!0,logoState:"normal",username:"",password:"",invcode:"",realname:"",autograph:""}},created:function(){this.init()},mounted:function(){var e=this;window.addEventListener("mousemove",(function(t){e.bgMove&&e.bgMove(t)}),!1)},methods:{init:function(){this.getUserInfo()},bgMove:function(e){var t=[window.innerWidth/2,window.innerHeight/2],n=(t[0]-e.x)/40+"px",o=(t[1]-e.y)/40+"px";this.$refs.moveImg&&(this.$refs.moveImg.style.backgroundPosition="".concat(n," ").concat(o))},formSubmit:function(){this.isLogin?this.login():this.register()},register:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["m"])({username:e.username,password:e.password,invcode:e.invcode,realname:e.realname,autograph:e.autograph});case 2:n=t.sent,n=n.data,0===n.code?(e.isLogin=!0,e.$message.success(n.message)):e.$message.error(n.message||"");case 5:case"end":return t.stop()}}),t)})))()},getUserInfo:function(){var e=this;Object(i["j"])().then((function(t){t=t.data||{},0===t.code&&e.sessionHandle()}))},goRegister:function(){},pwdEnter:function(){this.login()},userInputing:function(e,t){var n=/[^0-9a-zA-Z\u4e00-\u9fa5]/g,o=/[^0-9a-zA-Z]/g;this[e]=this[e].replace(t?n:o,"")},login:function(){var e=this;Object(i["c"])({username:this.username,password:this.password}).then((function(t){t.data&&0===t.data.code?e.sessionHandle():e.$message.error("账户或密码错误~")}))},sessionHandle:function(){var e=this;e.$router.addRoutes(r["a"]),e.$router.push("/index")}}},c=u,l=(n("9e56"),n("2877")),g=Object(l["a"])(c,o,a,!1,null,"7cfec5ba",null);t["default"]=g.exports}}]);