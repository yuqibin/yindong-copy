(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49ed3576","chunk-2d21ee9d"],{"0b10":function(t,A,i){},5495:function(t,A,i){"use strict";var a=i("0b10"),e=i.n(a);e.a},"6ae5":function(t,A,i){"use strict";i.r(A);var a=function(){var t=this,A=t.$createElement,i=t._self._c||A;return i("div",{staticClass:"play-wrap",on:{click:function(t){t.stopPropagation()}}},[i("div",{ref:"duPlay",staticClass:"du-player-wrap"},[i("audio",{ref:"audio",staticClass:"audio-hide",attrs:{loop:4===t.loopModeIndex,src:t.currPlay.audiourl},on:{canplay:t.audioReady}}),i("div",{staticClass:"play-progress-wrap"},[i("div",{staticClass:"img-con br4",on:{click:function(A){return t.switchProgressPanel()}}},[i("img",{attrs:{src:t.currPlay.coverphoto||t.noAudioImg,alt:""}}),i("div",{staticClass:"switch"},[i("span",{staticClass:"top icon iconfont",class:[t.audioTextPicker?"icondown":"iconup"]}),i("span",{staticClass:"bottom icon iconfont",class:[t.audioTextPicker?"iconup":"icondown"]})])]),i("div",{staticClass:"a-title ell",on:{click:function(A){return A.stopPropagation(),t.goArtDetail(t.currPlay.id)}}},[t._v(t._s(t.currPlay.title))]),i("div",{staticClass:"progress"},[i("span",{staticClass:"author-name",on:{click:function(A){return A.stopPropagation(),t.goAuthorDetail(t.currPlay.authorid)}}},[t._v(t._s(t.currPlay.author))]),t._v(" "+t._s(t.seToMinSe(t.currentAudioTime))+" / "+t._s(t.seToMinSe(t.audioDuration))+" ")])]),i("div",{staticClass:"play-btns-wrap"},[i("span",{staticClass:"icon iconfont iconprev",on:{click:function(A){return t.prevOrNextPlay(-1)}}}),i("span",{staticClass:"play icon iconfont",class:[t.playing?"iconzanting":"iconplay"],on:{click:t.playAndSuspend}}),i("span",{staticClass:"icon iconfont iconnext",on:{click:function(A){return t.prevOrNextPlay(1)}}})]),i("div",{staticClass:"other-control-wrap"},[i("span",{staticClass:"volume icon iconfont",class:[t.volume?"iconvoice":"iconno-voice",t.volumePicker?"curr":""],on:{click:function(A){t.volumePicker=!t.volumePicker}}},[i("div",{staticClass:"slider-wrap",on:{click:function(t){t.stopPropagation()}}},[i("el-slider",{staticClass:"volume-control",class:{curr:t.volumePicker},attrs:{"show-tooltip":!1,vertical:"",height:"100px"},on:{click:function(t){t.stopPropagation()}},model:{value:t.volume,callback:function(A){t.volume=A},expression:"volume"}})],1)]),i("span",{staticClass:"loop-mode icon iconfont",class:t.loopMode,on:{click:t.loopModeChange}}),i("span",{staticClass:"play-list icon iconfont iconlist",class:{curr:t.platListPicker},on:{click:function(A){t.platListPicker=!t.platListPicker}}},[i("span",{staticClass:"num"},[t._v(t._s(t.playList.length))])]),i("el-popover",{staticClass:"tips",attrs:{placement:"bottom",width:"160",trigger:"manual",content:"已添加至播放列表"},model:{value:t.addSuccessTips,callback:function(A){t.addSuccessTips=A},expression:"addSuccessTips"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.audioDuration,expression:"audioDuration"}],staticClass:"progress-bar"},[i("el-slider",{attrs:{max:t.audioDuration,"show-tooltip":!1},on:{change:t.progressBarChange},model:{value:t.progressBarVal,callback:function(A){t.progressBarVal=A},expression:"progressBarVal"}})],1)]),i("div",{staticClass:"play-list-wrap",class:{curr:t.platListPicker}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.currPlay.coverphoto,expression:"currPlay.coverphoto"}],staticClass:"bg",attrs:{src:t.currPlay.coverphoto,alt:""}}),i("div",{staticClass:"l-title"},[i("span",{staticClass:"name"},[t._v("播放列表"),i("span",{directives:[{name:"show",rawName:"v-show",value:t.playList.length,expression:"playList.length"}]},[t._v("("+t._s(t.playList.length)+")")])]),i("span",{staticClass:"remove-all",on:{click:t.removeAll}},[t._v(" 清空"),i("span",{staticClass:"icon iconfont icondel"})])]),i("div",{staticClass:"list-wrap"},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.playList.length,expression:"playList.length"}],ref:"listShowPanel",staticClass:"a-list scroll-wrap"},t._l(t.playList,(function(A){return i("li",{key:A.id,class:{curr:A.id===t.currPlay.id},on:{click:function(i){return t.pickOnePlay(A.id)}}},[i("div",{staticClass:"name ell",attrs:{title:A.title}},[t._v(t._s(A.title))]),i("div",{staticClass:"author ell",attrs:{title:A.author}},[t._v(t._s(A.author))]),i("div",{staticClass:"remove-this"},[i("span",{staticClass:"icon iconfont icondel",on:{click:function(i){return i.stopPropagation(),t.removeThis(A.id)}}})])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.playList.length,expression:"!playList.length"}],staticClass:"no-data"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconno-data"}})])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.playList.length,expression:"playList.length"}],staticClass:"audio-text-panel",class:{curr:t.audioTextPicker},on:{click:function(A){t.platListPicker=!1}}},[i("div",{staticClass:"a-title"},[t._v(t._s(t.currPlay.title)+" "),i("span",{staticClass:"close icon iconfont iconclose",on:{click:function(A){t.audioTextPicker=!1}}})]),i("CopyText",{staticClass:"copy-c",attrs:{"c-text":t.copyText}}),i("img",{staticClass:"img-blur",attrs:{src:t.currPlay.coverphoto,alt:""}}),i("div",{ref:"audioText",staticClass:"text markdown-body scroll-wrap",attrs:{id:"nice"},domProps:{innerHTML:t._s(t.currPlayText)}})],1)])},e=[],s=(i("c975"),i("d81d"),i("a434"),i("d3b7"),i("b85c")),o=i("d7e7"),n=i("9977"),l=i("f954"),r=i.n(l),c=["iconloop-sx","iconloop-xh","iconloop-sj","iconloop-one"],u={name:"player",data:function(){return{copyText:"",addSuccessTips:!1,noAudioImg:r.a,playing:!1,volume:100,loopModeIndex:1,playList:[],platListPicker:!1,audioTextPicker:!1,volumePicker:!1,currPlayIndex:0,randomIndex:0,audioDuration:0,currentAudioTime:0,audioTimer:"",progressBarVal:0}},computed:{randomList:function(){for(var t=this.playList.length-1,A=[],i=0;i<=t;i++)A.push(i);for(var a=0;a<=t;a++){var e=A[a],s=Object(n["d"])(t);A[a]=A[s],A[s]=e}return A},currPlayText:function(){return this.$markdowner.makeHtml(Object(n["a"])(this.currPlay.content||""))},currPlay:function(){var t=3===this.loopModeIndex?this.randomPlayList:this.playList,A=3===this.loopModeIndex?this.randomIndex:this.currPlayIndex,i=t[A];return i||{audiourl:"",title:"",coverphoto:"",content:"",authorid:""}},randomPlayList:function(){var t,A=this.randomList,i=[],a=Object(s["a"])(A);try{for(a.s();!(t=a.n()).done;){var e=t.value;i.push(this.playList[e])}}catch(o){a.e(o)}finally{a.f()}return i},audio:function(){var t=this.$refs.audio;return t},loopMode:function(){return c[this.loopModeIndex-1]}},watch:{volume:function(){var t=this.audio,A=this.playing;t.volume=this.volume/100,A?t.play():t.pause()},currPlay:function(){var t=this;if(this.progressBarVal=0,this.currPlay){var A=this.audio;this.playing&&(this.playing=!1,A.pause(),setTimeout((function(){t.playing=!0,A.play()}),0)),A.volume=this.volume/100,A.onended=function(){t.playing=!t.playing,t.prevOrNextPlay(0)}}this.$nextTick((function(){t.copyText=t.$refs.audioText.textContent}))}},components:{CopyText:function(){return i.e("chunk-5291565a").then(i.bind(null,"9d88"))}},created:function(){this.init()},mounted:function(){this.resetAllFlag()},methods:{init:function(){this.watchNewAddToPlay()},prevOrNextPlay:function(t){switch(this.loopModeIndex){case 4:this.singlePlay(t);break;case 3:this.randomPlay(t);break;case 2:this.listRepeatPlay(t);break;case 1:this.orderListPlay(t);break;default:break}},playingToPaused:function(){this.playing=!1,this.audio.pause()},changeEndToPlay:function(){var t=this;setTimeout((function(){t.playAndSuspend()}),500)},singlePlay:function(t){t&&(t>0&&this.currPlayIndex<this.playList.length-1&&(this.playingToPaused(),this.currPlayIndex++,this.changeEndToPlay()),t<0&&this.currPlayIndex>0&&(this.currPlayIndex--,this.playingToPaused(),this.changeEndToPlay()))},listRepeatPlay:function(t){t>=0&&(this.currPlayIndex++,this.currPlayIndex=this.currPlayIndex>this.playList.length-1?0:this.currPlayIndex,t&&this.playingToPaused(),this.changeEndToPlay()),t<0&&this.currPlayIndex>0&&(this.currPlayIndex--,this.playingToPaused(),this.changeEndToPlay())},orderListPlay:function(t){t>=0&&this.currPlayIndex<this.playList.length-1&&(t&&this.playingToPaused(),this.currPlayIndex++,this.changeEndToPlay()),t<0&&this.currPlayIndex>0&&(this.currPlayIndex--,this.playingToPaused(),this.changeEndToPlay())},randomPlay:function(t){t>=0&&this.randomIndex<this.playList.length-1&&(t&&this.playingToPaused(),this.randomIndex++,this.changeEndToPlay()),t<0&&this.randomIndex>0&&(this.randomIndex--,this.playingToPaused(),this.changeEndToPlay())},replaceAudioList:function(){var t=this;o["a"].$on("replaceList",(function(A){A&&Array.isArray&&A.length&&(t.playList=[],t.playList=A,t.pickOnePlay(A[0].id),t.addSuccessTipsHandle())}))},addAudioToList:function(){var t=this;o["a"].$on("addToList",(function(A,i){var a=t.playList;if(Array.isArray(A)&&A.length){var e,o=a.map((function(t){return t.id})),n=Object(s["a"])(A);try{for(n.s();!(e=n.n()).done;){var l=e.value;o.indexOf(+l.id)<0&&a.push(l)}}catch(r){n.e(r)}finally{n.f()}i&&t.pickOnePlay(A[0].id)}t.addSuccessTipsHandle()}))},watchNewAddToPlay:function(){this.replaceAudioList(),this.addAudioToList()},addSuccessTipsHandle:function(){var t=this;this.addSuccessTips=!0,setTimeout((function(){t.addSuccessTips=!1}),1e3)},playAndSuspend:function(){var t=this.audio;this.playList.length&&(this.playing=!this.playing,t.paused?t.play():t.pause())},audioReady:function(t){var A=this,i=0,a=A.audio;"number"===typeof t&&(i=t,a.currentTime=t);var e=Math.ceil(a.duration);A.audioDuration=e,A.currentAudioTime=Math.ceil(i+1),window.clearInterval(A.audioTimer),A.audioTimer=setInterval((function(){A.playing&&(i++,A.currentAudioTime=Math.ceil(i+1),A.progressBarVal=a.currentTime+1),i>=e-1&&window.clearInterval(A.audioTimer)}),1e3);var s=A.$refs.listShowPanel.querySelector(".curr");s&&s.scrollIntoView(!1)},pickOnePlay:function(t){for(var A=this,i=null,a=3===this.loopModeIndex,e=a?A.randomPlayList:this.playList,s=0;s<e.length;s++)if(e[s].id===t){i=s;break}a&&null!==i?this.randomIndex=i:this.currPlayIndex=i,this.audio.paused&&this.playAndSuspend()},removeAll:function(){this.playList=[],this.playing=!1,this.progressBarVal=0},removeThis:function(t){for(var A=this.playList,i=0;i<A.length;i++)if(t===A[i].id){A.splice(i,1);break}},progressBarChange:function(){this.audioReady(this.progressBarVal)},keyboardToChangeAudio:function(){var t=this;document.onkeyup=function(A){if(t.currPlay.audiourl)switch(A.keyCode){case 32:t.playAndSuspend();break;case 37:t.prevOrNextPlay(-1);break;case 39:t.prevOrNextPlay(1);break;default:break}}},resetAllFlag:function(){var t=this;document.body.addEventListener("click",(function(A){try{t.$refs.duPlay.contains(A.target)||(t.volumePicker=!1,t.audioTextPicker=!1,t.platListPicker=!1)}catch(i){console.log(i)}}))},loopModeChange:function(){this.loopModeIndex!==c.length?this.loopModeIndex++:this.loopModeIndex=1},seToMinSe:function(t){return Object(n["f"])(t)},switchProgressPanel:function(){this.playList.length&&(this.audioTextPicker=!this.audioTextPicker)},goArtDetail:function(t){this.$router.push("/a/".concat(t))},goAuthorDetail:function(t){this.$router.push("/author/".concat(t))}}},p=u,d=(i("5495"),i("2877")),h=Object(d["a"])(p,a,e,!1,null,null,null);A["default"]=h.exports},a434:function(t,A,i){"use strict";var a=i("23e7"),e=i("23cb"),s=i("a691"),o=i("50c4"),n=i("7b0b"),l=i("65f0"),r=i("8418"),c=i("1dde"),u=i("ae40"),p=c("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,k=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,A){var i,a,c,u,p,d,v=n(this),f=o(v.length),P=e(t,f),U=arguments.length;if(0===U?i=a=0:1===U?(i=0,a=f-P):(i=U-2,a=k(h(s(A),0),f-P)),f+i-a>g)throw TypeError(y);for(c=l(v,a),u=0;u<a;u++)p=P+u,p in v&&r(c,u,v[p]);if(c.length=a,i<a){for(u=P;u<f-a;u++)p=u+a,d=u+i,p in v?v[d]=v[p]:delete v[d];for(u=f;u>f-a+i;u--)delete v[u-1]}else if(i>a)for(u=f-a;u>P;u--)p=u+a-1,d=u+i-1,p in v?v[d]=v[p]:delete v[d];for(u=0;u<i;u++)v[u+P]=arguments[u+2];return v.length=f-a+i,c}})},d7e7:function(t,A,i){"use strict";var a=i("2b0e");A["a"]=new a["default"]},d81d:function(t,A,i){"use strict";var a=i("23e7"),e=i("b727").map,s=i("1dde"),o=i("ae40"),n=s("map"),l=o("map");a({target:"Array",proto:!0,forced:!n||!l},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},f954:function(t,A){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABGAAD/7gAmQWRvYmUAZMAAAAABAwAVBAMGCg0AAAOhAAAD/QAABtAAAAl2/9sAhAAEAwMDAwMEAwMEBgQDBAYHBQQEBQcIBgYHBgYICggJCQkJCAoKDAwMDAwKDAwNDQwMEREREREUFBQUFBQUFBQUAQQFBQgHCA8KCg8UDg4OFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCADIAMgDAREAAhEBAxEB/8QApwABAAMBAQEAAAAAAAAAAAAAAAEDBAIFBgEBAAAAAAAAAAAAAAAAAAAAABAAAgEDBAIDAQAAAAAAAAAAAQIAQBEDECASMiITMJAhYBEAAQQBAwQDAAAAAAAAAAAAQAABESEgEDFhUGBBIlECEhIBAAAAAAAAAAAAAAAAAAAAkBMAAwAABgEDAwUBAAAAAAAAAAERITFBUWFxECBAgZGhsTCQ8MHR4f/aAAwDAQACEQMRAAAB+TAAAAAAAAAAABUdgAAAAAAAAAAFRnNYAAAAAAAAAAKigGoAAAAAAAAAAqKADSAAAAADoggAAFZSADQAAAAASegcGM5ABWUgAGgAAAAAHpg5MZUCoqAABeAAAAAD0wCDGZSoAAAvAAAAAB6YAKjyzgAAAuAAAAAB6ZByCorPPAAALQAAAACT0yk84k2nZ5pwAACwAAAAAk9MzHnA0G088qAAB2AAAAASeiZjADUazzDkAAFgAAAAByeiUGE6PRKTEAAAdgAAAsLgcGooMBeWGQAAAHQAABsNJycgFBgAAAAAJAABcegQcgAzmEAAAAAkAAGo1EAAHnFQAAAABIAALjcACDGZQAAAAAAACCDUXkFZnKwAAAAAAACCAAAAAAAAAAQACAAAAAAAAAAACAAAAAAAAAAACAQAAAAAAAAAAACAAAAAAAAAAADo/9oACAEBAAEFAqhntUM1QzVDNUM1CBaMvKEEbWakNjGXjqWp3XjC1QxjjiaQtaB1MLaOOQpMvUtFyFYrBhG/Go8x8dMR8pk70RMy9dMI0JuaG+mXrALkDiMr2HzhGM9U9Ynq0y9ZjcLGzS/zoml9mXrQ4xdpfbmPjQ4Zfdkbk1DiazbcmS9FfRc09qT2pDnjOzf2R/KgXJ//2gAIAQIAAQUC+nH/2gAIAQMAAQUC+nH/2gAIAQICBj8CHH//2gAIAQMCBj8CHH//2gAIAQEBBj8CIoiGIoiGIoGFyrxoS1wVwTA1rcudHJcd30kaGUL8+QbdbrfC16gS/UXz4Cj5yj6ie2tMr7yhyIbdf//aAAgBAQMBPyGlKUpSlKUpSlKUpSlKUpTKZilKUpSlKUpSlKUpSlKUpHcL7eOGYvilKUpSlKUpSlKUpSlKR3PRSlKUpSlKUok3kr4pSlKUjhmL7BCRkL4bh7PShgKUpSlKUpSlKUpRPEpREzIPxZ7ilNJFKUpSlKUpSlKUpRPEpSjxweQ3EjpIpSlKUpSlKUpSlKUTxKUpRDT3ZjYaaFKUpSlKUpSlKUpSieJRS3IZANJFLu6xRSlKUpSlKUpSlKUoniUb7zQRqVWzIAUWDkpSlKUpSlKUpSlKJ4lMmtylMYtGijBSlKUpSlKUpSlKUTxRoIb7ylMT4SwobmUpSlKUpSlKUpSlHji8flKO1gUhNDAGbPopSlKUpSlKUpSmUrDdif8AxHlUTp9pR/vKOnv1ND6mNm63iUpSlKUpSlKUpNa+i8MUpR/vKUpSlKUpSlKUpSkO5LFlGKUpSCLdlKUpSlKUpSlKUpTO/QxSlKUyTJgilKUpSlKUpSlKUonYfl6almcK1ZSlKUpSlKUpSlKUYoxKJedRb0+B71+BH+xmjDbQpSlKUpSlKUvpvtaUpfcX29L7hGzRGs17hEkVskf/2gAIAQIDAT8h/Zx//9oACAEDAwE/If2cf//aAAwDAQACEQMRAAAQAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAgEkkkkkkkkkkkkkkkkkkAkkkAAEkkkkkEkkkAAAAAAAAEAgAgAAAAAAAAgAgAAAAAAAAAEAAkAAAAAAAAAkEEEkkkkkkkkkkggAAAEkkkkkEgAAAAAkkkkkkgkkEkkgAAAAAEgAAAAAAAAAAAAEkAAAAAAAEkkkkkkkkkkkEEkgkkkkkgAAEkkgkkkkkkkkggAEAAAAAAEkkkAkAAAAAAAkkEkkkkkkkkkkkEkkkkkkkkkkAgAAAAAAAAAAAEkkkkkkkkkkkkkkkkkkkkkkkH//aAAgBAQMBPxD3AAAAH3Fe3uAAAATvsvYxYsvJeS8l5LyXkvJeS8l5LyXkvJeS8l5LyXkvJeS8lMa7k9inqXkgggggggggggggggggggggxnYexSlI3I3I3I3I3I3I3I3I3I3I3I3Mzozib/A3HHg1mmRuRuRuRuRuRuYh3J7HYvJeS8lRUVFRUVFRUVFRULFzcQ0xBLU4Zf0ZBUej0fRUVFRUJp2OrO3sAABgO/I8qrD+HXLZ35J1+OrO3qB2Ox2Ox2Ox2Ox2Ox2MBjqdjsdhkjxGwaY8x2324J4+OrO3sgAAYDv0hnhWANeJvi/H6ACyyyyyyyyyyxsdrwp6VLnmYCpvZuP6Mhv6vwgkvzK0+fZgP/4LtHxMVlkNYx1YyU3OMvjYSm8Nap+CF+SadPFeyA//AILteONZor8j1TmGuV4Jcd0vol7IAAH1BEcTtmN6eRjcySnt4scm3gli2P34f1fsgAAYDcxZR8fTwRlVvstzLLzPd6sRR/C/69gAAEacn4EaYXCX8wy7mcRNpsU3r/PDE9PDE0nERXLQTGnH+UQxNNsW3+gAoooooooWhNfFuS75K9zST79AxPT2QAP1KJcK6/746a+vpBOo/aXsgAAdgkn1v+GgvUCs2/i359kAABodxMT4ZeloNsklm3kJRux4b/C4/VAA+J8T4nxPiaC8FqStP5bjaxfg2/qieT9G/uGUq93n2R9By4frAAFKUo3yRSlKUpSlKUpSlKUpS+gPQUpSlKUpSlKUpSlKUpS8l5HyLyXkvJeS8l5LyXkvJeS8l5LyXkvJeS8l5LyXkvJefJSlKUpSlKUpSlKUpSlKUZwajM0ylKUpSlKUpSlKUpSlKUo0MxEZtn//2gAIAQIDAT8Q/Zx//9oACAEDAwE/EP2cf//Z"}}]);